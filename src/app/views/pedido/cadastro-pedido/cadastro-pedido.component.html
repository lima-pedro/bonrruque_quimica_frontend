<div class="container">
  <div class="card">
    <div class="card-header">
      <h3>Cadastrar Pedido</h3>
    </div>
    <div class="card-body">
      <!-- Button trigger modal Cliente-->
      <button
        type="button"
        id="botao-adicionar-cliente"
        class="btn btn-success btn-sm"
        data-toggle="modal"
        data-target="#exampleModal"
        (click)="indexClients()"
      >
        Adicionar Cliente
      </button>

      <button
        class="btn btn-danger btn-sm"
        id="botao-remover-cliente"
        (click)="removerCliente()"
      >
        Remover Cliente
      </button>

      <!-- Container que exibe cliente -->
      <div class="cliente-container" *ngIf="carregandoCliente">
        <h4>Dados do cliente: </h4>
        <form class="form">
          <div class="input-group">
          </div>
        </form>
      </div>

      <!-- Modal Cliente-->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true">
      <div
        class="modal-dialog modal-lg"
        role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Clientes</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <td>Código</td>
                    <td>Nome</td>
                    <td>Contato</td>
                    <td>Bairro</td>
                    <td>Ações</td>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let cliente of clientes">
                    <td>{{ cliente.id }}</td>
                    <td>{{ cliente.nome }}</td>
                    <td>{{ cliente.contato }}</td>
                    <td>{{ cliente.bairro }}</td>
                    <td>
                      <button
                        class="btn btn-success btn-sm"
                        data-dismiss="modal"
                        (click)="criarBoxClientes(cliente.id)"
                      >+</button>
                    </td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary btn-sm"
              data-dismiss="modal">Fechar</button>
          </div>
        </div>
      </div>      
      </div>

      <hr>

       <!-- Button trigger modal Itens do Pedido-->
      <button
        type="button"
        class="btn btn-success btn-sm itens"
        data-toggle="modal"
        data-target="#modalProdutos"
        (click)="indexItensPedido()"
      >
        Adicionar Itens ao Pedido
      </button>

      <!-- Container que exibe Itens do Pedido -->
      <div class="cliente-container" *ngIf="carregandoProdutos">
        <h4>Itens do Pedido: </h4>
        <table class="table">
          <thead>
            <tr>
              <td>Cód.</td>
              <td>Nome</td>
              <td>Preco unitário</td>  
              <td>Ações</td>         
            </tr>
          </thead>
          <tbody class="tbody">
            
          </tbody>
        </table>
      </div>

      <!-- Modal Itens do pedido-->
      <div
        class="modal fade"
        id="modalProdutos"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true">
      <div
        class="modal-dialog modal-lg"
        role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Produtos</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <td>Código</td>
                    <td>Código Interno</td>
                    <td>Nome</td>
                    <td>Preço Unitário</td>
                    <td>Ações</td>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let produto of produtos">
                    <td>{{ produto.codigo }}</td>
                    <td>{{ produto.codigoInterno }}</td>
                    <td>{{ produto.nome }}</td>
                    <td>{{ produto.preco }}</td>
                    <td>
                      <button
                        class="btn btn-success btn-sm"
                        (click)="criarBoxProdutos(produto.id)"
                      >+</button>
                    </td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary btn-sm"
              data-dismiss="modal">Fechar</button>
          </div>
        </div>
      </div>      
      </div>

      <hr>

      <div class="form-group">
        <label>Observações do pedido: </label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="pedido.observacoes"
          name="observacoes"
          required
        >
      </div>

      <div class="form-group">
        <label>Ponto de referência: </label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="pedido.pontoReferenciaEntrega"
          name="pontoReferenciaEntrega"
          required
        >
      </div>

        <div class="card-group">
          <div class="form-group">
            <label>Forma de pagamento: </label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="pedido.formaPagamento"
              name="formaPagamento"
              required
            >
          </div>
    
          <div class="form-group data-entrega">
            <label>Data de entrega: </label>
            <input
              type="date"
              class="form-control"
              [(ngModel)]="pedido.dataEntrega"
              name="dataEntrega"
              required
            >
          </div>
        </div>
      </div>

    <div class="card-footer">
      <button
        class="btn btn-success"
        (click)="create()"
      >Cadastrar Pedido</button>
      <!-- <button class="btn btn-warning">Cadastrar Pedido</button> -->
    </div>
  </div>

</div>